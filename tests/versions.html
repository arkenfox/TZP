<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="viewport" content="width=400">
	<title>versions</title>
	<link rel="stylesheet" type="text/css" href="testindex.css">
	<script src="testglobals.js"></script>
	<script src="testgeneric.js"></script>
	<!-- custom -->
	<style>
		table {width: 380px;}
	</style>
	<style id="test73">
		.a{border-width: 1px; border-style: solid; border-color: black; border-image: linear-gradient(white,black);}
	</style>
</head>

<body>
	<div class="hidden">
	  <object id="test68"></object>
		<div id="test73"></div>
		<div><input type="time" min="14:00:00" max="12:00:00" value="15:00:00" id="test76"></div>
		<output id="test90">a</output>
	</div>
	<div class="offscreen">
		<div id="test89" style="width:1em">a &#x3000 b</div>
		<div id="ctrl89" style="width:1em">a b</div>
	</div>

	<table>
	<tr><td><h2>TorZillaPrint</h2></td></tr>
	<tr><td class="blurb"><a class="return" href="../index.html">return to TZP index</a></td></tr>
	</table>

	<table id="tb3">
		<col width="30%"><col width="20%"><col width="50%">
		<thead><tr><th colspan="3">versions</th></tr></thead>
		<tr><td colspan="3" class="intro">
			<span class="no_color">A history of firefox version-specific PoCs tzp uses or considered</span>
		</td></tr>
		<tr><td><div class="btn-left"><span class="btn3 btn" onClick="rerunVersion()">[ re-run ]</span></div></td>
				<td>BUG NO.</td><td>RESULT</td></tr>
		<tr><td>91</td><td id="n91"></td><td class="c mono" id="v91"></td></tr>
		<tr><td>90</td><td id="n90"></td><td class="c mono" id="v90"></td></tr>
		<tr><td>90</td><td id="n90a"></td><td class="c mono" id="v90a"></td></tr>
		<tr><td>89</td><td id="n89"></td><td class="c mono" id="v89"></td></tr>
		<tr><td>88</td><td id="n88"></td><td class="c mono" id="v88"></td></tr>
		<tr><td>88</td><td id="n88a"></td><td class="c mono" id="v88a"></td></tr>
		<tr><td>87</td><td id="n87"></td><td class="c mono" id="v87"></td></tr>
		<tr><td>87</td><td id="n87a"></td><td class="c mono" id="v87a"></td></tr>
		<tr><td>87</td><td id="n87b"></td><td class="c mono" id="v87b"></td></tr>
		<tr><td>86</td><td id="n86"></td><td class="c mono" id="v86"></td></tr>
		<tr><td>85</td><td id="n85"></td><td class="c mono" id="v85"></td></tr>
		<tr><td>84</td><td id="n84"></td><td class="c mono" id="v84"></td></tr>
		<tr><td>83</td><td id="n83"></td><td class="c mono" id="v83"></td></tr>
		<tr><td>83</td><td id="n83a"></td><td class="c mono" id="v83a"></td></tr>
		<tr><td>82</td><td id="n82"></td><td class="c mono" id="v82"></td></tr>
		<tr><td>81</td><td id="n81"></td><td class="c mono" id="v81"></td></tr>
		<tr><td>81<span id="test81a"></span><span id="test81b"></span></td><td id="n81a"></td><td class="c mono" id="v81a"></td></tr>
		<tr><td>80</td><td id="n80"></td><td class="c mono" id="v80"></td></tr>
		<tr><td>80</td><td id="n80a"></td><td class="c mono" id="v80a"></td></tr>
		<tr><td>79</td><td id="n79"></td><td class="c mono" id="v79"></td></tr>
		<tr><td>79</td><td id="n79a"></td><td class="c mono" id="v79a"></td></tr>
		<tr><td>78</td><td id="n78"></td><td class="c mono" id="v78"></td></tr>
		<tr><td>78</td><td id="n78a"></td><td class="c mono" id="v78a"></td></tr>
		<tr><td>78</td><td id="n78b"></td><td class="c mono" id="v78b"></td></tr>
		<tr><td>77</td><td id="n77"></td><td class="c mono" id="v77"></td></tr>
		<tr><td>77</td><td id="n77a"></td><td class="c mono" id="v77a"></td></tr>
		<tr><td>76</td><td id="n76"></td><td class="c mono" id="v76"></td></tr>
		<tr><td>75</td><td id= "n75"></td><td class="c mono" id="v75"></td></tr>
		<tr><td>74</td><td id="n74"></td><td class="c mono" id="v74"></td></tr>
		<tr><td>73</td><td id="n73"></td><td class="c mono" id="v73"></td></tr>
		<tr><td>72</td><td id="n72"></td><td class="c mono" id="v72"></td></tr>
		<tr><td>72</td><td id="n72a"></td><td class="c mono" id="v72a"></td></tr>
		<tr><td>71</td><td id= "n71"></td><td class="c mono" id="v71"></td></tr>
		<tr><td>70</td><td id= "n70"></td><td class="c mono" id="v70"></td></tr>
		<tr><td>69</td><td id="n69"></td><td class="c mono" id="v69"></td></tr>
		<tr><td>68</td><td id="n68"></td><td class="c mono" id="v68"></td></tr>
		<tr><td>67</td><td id="n67"></td><td class="c mono" id="v67"></td></tr>
		<tr><td>66</td><td id="n66"></td><td class="c mono" id="v66"></td></tr>
		<tr><td>65</td><td id="n65"></td><td class="c mono" id="v65"></td></tr>
		<tr><td>64</td><td id="n64"></td><td class="c mono" id="v64"></td></tr>
		<tr><td>64</td><td id="n64a"></td><td class="c mono" id="v64a"></td></tr>
		<tr><td>63</td><td id="n63"></td><td class="c mono" id="v63"></td></tr>
		<tr><td>62</td><td id="n62"></td><td class="c mono" id="v62"></td></tr>
		<tr><td>61</td><td id="n61"></td><td class="c mono" id="v61"></td></tr>
		<tr><td>60</td><td id= "n60"></td><td class="c mono" id="v60"></td></tr>
		<tr><td colspan="3">&nbsp</td></tr>

		<tr><td colspan="3" class="center">--------- 59 or lower ---------</td></tr>
		<tr><td>55</td><td id="n55"></td><td class="c mono" id="v55"></td></tr>
		<tr><td>55</td><td id="n55b"></td><td class="c mono" id="v55b"></td></tr>
		<tr><td>54</td><td id="n54"></td><td class="c mono" id="v54"></td></tr>
		<tr><td>53</td><td id="n53"></td><td class="c mono" id="v53"></td></tr>
		<tr><td>52</td><td id="n52"></td><td class="c mono" id="v52"></td></tr>
		<tr><td colspan="3">&nbsp</td></tr>

		<tr><td colspan="3" class="center">------- items to watch -------</td></tr>
		<tr><td><code>NaN</code></td><td id="n40"></td><td class="c mono" id="v40"></td></tr>
		<tr><td><code>-2011</code></td><td>''</td><td class="c mono" id="v41"></td></tr>
		<tr><td><code>Invalid Date</code></td><td>''</td><td class="c mono" id="v42"></td></tr>
		<tr><td colspan="3">&nbsp</td></tr>
	</table>
	<br>

<script>
'use strict';

function outputVersion() {
	let xF = sb +"fail"+ sc,
		xS = sg +"pass"+ sc,
		xNC = sb +"no change"+ sc,
		xOMG = sg +"OMG it's fixed"+ sc,
		strA = "<a href='https://bugzilla.mozilla.org/",
		strB = "' class='blue' target='_blank'>[",
		strC = "]</a>",
		t0 = performance.now()

	function output(id, bug, result, perf) {
		perf = Math.round(perf)
		document.getElementById("v"+id).innerHTML = result +" ("+ perf +" ms)"
		if (bug !== "") {document.getElementById("n"+id).innerHTML = strA + bug + strB + bug + strC}
	}

	// 91: 1710429
	let t91 = performance.now(), ver91 = xF
	try {
		let d91 = new Date("January 30, 2019 13:00:00")
		let t91 = Intl.DateTimeFormat(undefined, {timeZoneName: "longGeneric"}).format(d91)
		ver91 = xS
	} catch(e) {console.debug(e.name, e.message)}
	output("91", "1710429", ver91, performance.now()-t91)

	// 90: 1520434
	let t90 = performance.now(), ver90 = xF
	try {
		var share90 = new ArrayBuffer(4096)
		let test90 = new Int32Array(share90, 7)
	} catch(e) {
		// 90: start offset of Int32Array should be a multiple of 4
		// 89: attempting to construct out-of-bounds TypedArray on ArrayBuffer
		if (e.message.substr(0,1) == "s") {ver90 = xS}
	}
	output("90", "1520434", ver90, performance.now()-t90)

	// 90a: 1537689
	let t90a = performance.now(), ver90a = xF
	try {
		if (dom.test90.defaultValue == "a") {ver90a = xS}
	} catch(e) {}
	output("90a", "1537689", ver90a, performance.now()-t90a)

	// 89: 1703213
	let t89 = performance.now(), ver89 = xF
	try {
		let x89 = dom.ctrl89.offsetHeight
		let y89 = dom.test89.offsetHeight
		//console.debug(x89/y89)
		if (x89/y89 > 0.85) {ver89 = xS}
	} catch(e) {}
	output("89", "1703213", ver89, performance.now()-t89)

	// 88: 1670124
	let t88 = performance.now(), ver88 = xF
	try {
		newFn('function invalid () { "use strict" \n ' + '"\\8"' + '}')
	} catch(e) {
		// FF88+: SyntaxError the escapes \8 and \9 can't be used in untagged template literals or in strict mode code
		if (e.message.substr(13,5) == "8 and") {ver88 = xS}
	}
	output("88", "1670124", ver88, performance.now()-t88)

	// 88a: 1497557
	let t88a = performance.now(), ver88a = xF
	try {
		if (document.createElement('a').protocol == ":") {ver88a = xS}
	} catch(e) {}
	output("88a", "1497557", ver88a, performance.now()-t88a)

	// 87: 1688335
	let t87 = performance.now(), ver87 = xF
	try {
		if (console.length == undefined) {ver87 = xS}
	} catch(e) {}
	output("87", "1688335", ver87, performance.now()-t87)

	// 87a: 1676708
	let t87a = performance.now(), ver87a = xF
	try {
		let test87a = new Date("Wed Nov 11 2020 19:18:50 GMT+0010 (Central European Standard Time)").toUTCString()
		if (test87a !== "Wed, 11 Nov 2020 09:18:50 GMT") {ver87a = xS}
	} catch(e) {}
	output("87a", "1676708", ver87a, performance.now()-t87a)

	// 87b: 944846
	let t87b = performance.now(), ver87b = xF
	try {
		let test87b = (12345).toExponential(3)
		if (test87b == 1.235e+4) {ver87b = xS}
	} catch(e) {}
	output("87b", "944846", ver87b, performance.now()-t87b)

	// 86: 1685482
	let t86 = performance.now(), ver86 = xF
	try {
		newFn('for (async of [])')
	} catch(e) {
		// 86+: SyntaxError an expression X in 'for (X of Y)' must not start with 'async of'
		// 85-: SyntaxError expected '=>' on the same line after an argument list, got '['
		if ((e.message).substring(0,2) == "an") {ver86 = xS}
	}
	output("86", "1685482", ver86, performance.now()-t86)

	// 85: 1675240
	let t85 = performance.now(), ver85 = xF
	try {
		let reg85 = ("/a")
		let descriptor = Object.getOwnPropertyDescriptor(RegExp.prototype, "global")
		let test85 = descriptor.get.call(reg85)
	} catch(e) {
		// 85+: RegExp.prototype.global getter called on non-RegExp object: string
		// 60+: get global method called on incompatible string
		if ((e.message).substring(0,3) == "Reg") {ver85 = xS}
	}
	output("85", "1675240", ver85, performance.now()-t85)

	// 84: 1673440
	let t84 = performance.now(), ver84 = xF
	try {
		newFn("var x = @")
	} catch(e) {
		if (e.message == "illegal character U+0040") {ver84 = xS}
	}
	output("84", "1673440", ver84, performance.now()-t84)

	// 83: 1667094
	let t83 = performance.now(), ver83 = xF
	try {
		let obj83 = {exec() {return function(){}}}
		let test83 = RegExp.prototype.test.call(obj83, "")
		ver83 = xS
	} catch(e) {}
	output("83", "1667094", ver83, performance.now()-t83)

	// 83a: 1665746
	let t83a = performance.now(), ver83a = xF
	try {
		let a83 = new Set([1,2,3]);
		let b83 = new Set([2,3,4]);
		let c83 = new Set(...a83, ...b83);
		ver83a = xS
	} catch(e) {
		if (e.message == "1 is not iterable") {ver83a = xS}
	}
	output("83a", "1665746", ver83a, performance.now()-t83a)

	// 82: 1655947
	let t82 = performance.now(), ver82 = xF
	let test82 = ((Math.floor((Date.parse("21 Jul 20") - Date.parse("20 Jul 20"))))/86400000)
	if (test82 == 1) {ver82 = xS}
	output("82", "1655947", ver82, performance.now()-t82)

	// 81: 1650607 (53: 1321534)
	let t81 = performance.now(), ver81 = xF
	try {
		let file81 = new File(["bits"], "a/b.txt")
		if (file81.name == "a/b.txt") {ver81 = xS}
	} catch(e) {}
	output("81", "1650607", ver81, performance.now()-t81)

	// 81a: 1657437
	// this is unstable in Tor Browser
	// change from offscreen: use exisiting visible spans
	let t81a = performance.now(), ver81a = xF
	try {
		dom.test81a.innerHTML = "AB"
		dom.test81b.innerHTML = "A &#013;B"
		let w81a = dom.test81a.offsetWidth
		let w81b = dom.test81b.offsetWidth
		dom.test81a.textContent = ""
		dom.test81b.textContent = ""
		//console.debug(w81a, w81b)
		if (w81a < w81b) {ver81a = xS}
	} catch(e) {}
	output("81a", "1657437", ver81a, performance.now()-t81a)

	// 80: 1651732
	let t80 = performance.now(), ver80 = xF
	try {
		let obj80 = {[Symbol.toPrimitive]: () => Symbol()}
		let proxy80 = (new Proxy({},{get: (obj80, prop, proxy80) => prop}))
		try {
			for (let i = 0; i < 11; i++) {if (typeof proxy80[obj80] == 'symbol') {}}
			ver80 = xS
		} catch (e) {}
		output("80", "1651732", ver80, performance.now()-t80)
	} catch(e) {}

	//80a: 1559253
	let t80a = performance.now(), ver80a = xF
	try {
		newFn(`
		/aaa(/; 012345678`)
	} catch (e) {
		//console.debug(e.lineNumber, e.columnNumber)
		// 60-65: = 2,2
		// 66-79: = 1,4
		//   80+: = 2,6
		if (e.columnNumber == 6) {ver80a = xS}
	}
	output("80a", "1559253", ver80a, performance.now()-t80a)

	//79: 1644878
	let t79 = performance.now(), ver79 = xF
	try {
		Map.prototype.entries.call(true)
	} catch(e) {
		if ((e.message).substring(0,3) == "ent") {ver79 = xS}
	}
	output("79", "1644878", ver79, performance.now()-t79)

	//79a: 1639591
	let t79a = performance.now(), ver79a = xF
	try {
		newFn("let z = (3 ??= 3 * 3)")
	} catch(e) {
		// <79: SyntaxError expected expression, got '?'
		// 79+: SyntaxError invalid assignment left-hand side
		if (e.message.substring(0,3) == "inv") {ver79a = xS}
	}
	output("79a", "1639591", ver79a, performance.now()-t79a)

	//78: 1633836
	let t78 = performance.now(), ver78 = xF
	try {
		let test78 = new Intl.NumberFormat(undefined, {style:"unit", unit:"percent"}).format(1/2)
		ver78 = xS
	} catch(e) {}
	output("78", "1633836", ver78, performance.now()-t78)

	//78a: 1589095
	let t78a = performance.now(), ver78a = xF
	try {
		let test78a = new Intl.ListFormat(undefined,{style: 'long', type: 'unit'}).format(['a','b','c'])
		ver78a = xS
	} catch(e) {}
	output("78a", "1589095", ver78a, performance.now()-t78a)

	//78b: 1634135
	let t78b = performance.now(), ver78b = xF
	try {
		let regex78b = new RegExp('b')
		if (regex78b.dotAll == false) {ver78b = xS}
	} catch(e) {}
	output("78b", "1634135", ver78b, performance.now()-t78b)

	//77: 1627285
	let t77 = performance.now(), ver77 = xF
	if (isNaN(new DOMRect(0, 0, NaN, NaN).top)) {ver77 = xS}
	output("77", "1627285", ver77, performance.now()-t77)

	//77a: 1608168
	let t77a = performance.now(), ver77a = xF
	try {
		("aa").replaceAll("a","b"); ver77a = xS
	} catch(e) {}
	output("77a", "1608168", ver77a, performance.now()-t77a)

	//76: 1608010
	let t76 = performance.now(), ver76 = xF
	if (test76.validity.rangeOverflow) {} else {ver76 = xS}
	output("76", "1608010", ver76, performance.now()-t77)

	//75: 1615600
	let t75 = performance.now(), ver75 = xF
	try {
		let test75 = BigInt(2.5)
	} catch(e) {
		if (e.message.substring(0,3) == "2.5") {ver75 = xS}
	}
	output("75", "1615600", ver75, performance.now()-t75)

	//74: 1605835
	let t74 = performance.now(), ver74 = xF
	try {
		newFn("let t = ({ 1n: 1 })")
		ver74 = xS
	} catch(e) {}
	output("74", "1605835", ver74, performance.now()-t74)

	//73: 1605803
	let t73 = performance.now(), ver73 = xF
	let el73 = dom.test73
	if (getComputedStyle(el73).content == "normal") {ver73 = xS}
	output("73", "1605803", ver73, performance.now()-t73)

	//72: 1589072
	let t72 = performance.now(), ver72 = xF
	try {
		let test72 = newFn('let a = 100_00_;')
	} catch(e) {
		if (e.message.substring(0,6) == "unders" ) {
			ver72 = xS
		}
	}
	output("72", "1589072", ver72, performance.now()-t72)

	//72a: 1441976
	let t72a = performance.now(), ver72a = xF
	try {if (BatteryManager in window) {}} catch(e) {ver72a = xS}
	output("72a", "1441976", ver72a, performance.now()-t72a)

	//71: 1575980
	let t71 = performance.now(), ver71 = xF
	try {
		let test71 = new StaticRange()
	} catch(e) {
		if (e.name == "TypeError" && e.message.substring(0,4) == "Stat") {ver71=xS}
	}
	output("71", "1575980", ver71, performance.now()-t71)

	//70: 1435818
	let t70 = performance.now(), ver70 = xF
	try {
		newFn("let t = 1_050")
		ver70=xS
	} catch(e) {}
	output("70", "1435818", ver70, performance.now()-t70)

	//69: 1558387
	let t69 = performance.now(), ver69 = xF
	try {let test69 = new DOMError('a')} catch(e) {ver69 = xS}
	output("69", "1558387", ver69, performance.now()-t69)

	//68: 1548773
	let t68 = performance.now(), ver68 = xF
	let el68 = dom.test68
	if (el68.typeMustMatch == undefined) {ver68 = xS} else {}
	output("68", "1548773", ver68, performance.now()-t68)

	//67: 1531830 (1435829)
	let t67 = performance.now(), ver67 = xF
	if (!Symbol.hasOwnProperty('matchAll')) {} else {ver67 = xS}
	output("67", "1531830", ver67, performance.now()-t67)

	//66
	let t66 = performance.now(), ver66 = xF
	try {
		let txt = new TextEncoder(), utf8 = new Uint8Array(1)
		let test66 = txt.encodeInto("a", utf8)
		ver66 = xS
	} catch(e) {}
	output("66", "", ver66, performance.now()-t66)

	//65
	let t65 = performance.now(), ver65 = xF
	try {
		let test65 = new Intl.RelativeTimeFormat("en",{style: "long"})
		ver65 = xS
	} catch(e) {}
	output("65", "", ver65, performance.now()-t65)

	//64
	let t64 = performance.now(), ver64 = xF
	if (window.screenLeft == undefined){} else {ver64 = xS}
	output("64", "", ver64, performance.now()-t64)

	//64a
	let t64a = performance.now(), ver64a = xF
	if (new Date("31-Mar-2011").getFullYear() == -2011) {ver64a = xS}
	output("64a", "", ver64a, performance.now()-t64a)

	//63
	let t63 = performance.now(), ver63 = xF
	if (Symbol.for(`foo`).description == "foo") {ver63 = xS}
	output("63", "", ver63, performance.now()-t63)

	//62
	let t62 = performance.now(), ver62 = xF
	console.time("v62")
	try {console.timeLog("v62"); ver62 = xS} catch(e) {}
	console.timeEnd("v62")
	output("62", "", ver62, performance.now()-t62)

	//61
	let t61 = performance.now(), ver61 = xF
	try {let test61 = (" a").trimStart(); ver61 = xS} catch(e) {}
	output("61", "", ver61, performance.now()-t61)

	//60
	let t60 = performance.now(), ver60 = xF
	try {(Object.getOwnPropertyDescriptor(Document.prototype, "body")
		|| Object.getOwnPropertyDescriptor(HTMLDocument.prototype, "body")).get.call((new DOMParser).parseFromString(
			"<html xmlns='http://www.w3.org/1999/xhtml'><body/></html>","application/xhtml+xml")) !== null;
		ver60 = xS
	} catch(e) {}
	output("60", "", ver60, performance.now()-t60)

	// 55: 1354974
	// this test hangs the page in chromium
	if (isFF) {
		let t55 = performance.now(), ver55 = xF
		try {
			let maxIndex = Math.pow(2, 31)
			let list55 = []
			list55[maxIndex - 1] = 'a'
			list55[maxIndex - 0] = 'b'
			if (list55[maxIndex] !== 'b') {
			} else if (list55.slice()[maxIndex] !== 'b') {
			} else if (list55.slice(maxIndex - 1).length !== 2) {
			} else {
				ver55 = xS
			}
		} catch(e) {}
		output("55", "1354974", ver55, performance.now()-t55)
	} else {
		dom.n55.innerHTML = strA +"1354974"+ strB +"1354974"+ strC
		dom.v55.innerHTML = "firefox only"
	}

	// 55b: 1351795
	let t55b = performance.now(), ver55b = xF
	try {
		console.timeline()
	} catch(e) {ver55b = xS}
	output("55b", "1351795", ver55b, performance.now()-t55b)

	// 54: 1050755
	let t54 = performance.now(), ver54 = xF
	try {
		let test54 = [Date.UTC(), Date.UTC(1)]
		if (isNaN(test54[1]) == false) {ver54 = xS}
	} catch(e) {}
	output("54", "1050755", ver54, performance.now()-t54)

	// 53: 1317307
	let t53 = performance.now(), ver53 = xF
	try {
		Object.defineProperty([], "length", {get(){}})
	} catch(e) {
		if (e.name == "TypeError") {ver53 = xS}
	}
	output("53", "1317307", ver53, performance.now()-t53)

	// 52: 837961
	let t52 = performance.now(), ver52 = xF
	try {
		let test52 = new Intl.DateTimeFormat(undefined, {timeZone: "Europe/Warsaw"})
		ver52 = xS
	} catch(e) {}
	output("52", "837961", ver52, performance.now()-t52)

	// watch
	// 1274354
	let t40 = performance.now(), ver40 = xNC
	let test40 = Date.parse("2019-11-26 07:39:58.286157072 +0000 UTC")
	if (!isNaN(test40)) {ver40 = xOMG}
	output("40", "1274354", ver40, performance.now()-t40)

	let t41 = performance.now(), ver41 = xNC
	let test41 = new Date("31-Mar-2011").getFullYear()
	// 63 and lower = NaN, 64+ = -2011
	if (test41 !== -2011 && !isNaN(test41)) {ver41 = xOMG + (isFF ? " [" + test41 +"]" : "")}
	output("41", "", ver41, performance.now()-t41)

	let t42 = performance.now(), ver42 = xNC
	let test42 = new Date("19999-11-11").toString()
	if (test42 !== "Invalid Date") {ver42 = xOMG}
	output("42", "", ver42, performance.now()-t42)

	try {
		const chromeKeys = Object.keys(chrome).reduce((acc, key) => ({ ...acc, [key]: [...Object.keys(chrome[key])] }), {})
		const names = Object.keys(chromeKeys)
		let res = []
		for (const k of names) {
			res.push(k +":"+ chromeKeys[k].join())
		}
		console.debug(sha1(res.join()) +"\n"+ res.join("\n"))
		// Brave/Chrome: 57fddf2707cb589cd02e5e15ed33cd00a14f743a
			//loadTimes:
			//csi:
			//app:isInstalled,getDetails,getIsInstalled,installState,runningState,InstallState,RunningState
			//runtime:id,connect,sendMessage,OnInstalledReason,OnRestartRequiredReason,PlatformArch,PlatformNaclArch,PlatformOs,RequestUpdateCheckStatus
		// Opera: cc467b638955186a27c4ec03792867169da121ed
			//loadTimes:
			//csi:
			//search:
			//app:isInstalled,getDetails,getIsInstalled,installState,runningState,InstallState,RunningState
			//runtime:id,connect,sendMessage,OnInstalledReason,OnRestartRequiredReason,PlatformArch,PlatformNaclArch,PlatformOs,RequestUpdateCheckStatus
	} catch(e) {
		//FF (and all non-blink I would assume): ReferenceError chrome is not defined
		console.debug("chromeKeys", e.name, e.message)
	}
}

function rerunVersion() {
	// clear
	let items = document.getElementsByClassName("c mono")
	for(let i=0; i < items.length; i++) {
		items[i].innerHTML = "&nbsp"
	}
	// pause so users see change
	setTimeout(function() {
		outputVersion()
	}, 170)
}

outputVersion()

</script>
</body>
</html>
